# GCS (Google Cloud Storage) ファイル構造

このドキュメントは、Botが使用するGCSバケット `data-svml` 内のファイルとディレクトリの構造を定義します。

## 共通ルール
- 各機能のデータは、サーバー（ギルド）ごとに `{guildId}` ディレクトリ以下に保存されます。
- 設定ファイルは主に `config.json` という名前で保存されます。

---

## 経費申請ボット (`keihi_bot`)

-   **パス:** `data-svml/{guildId}/keihi/`

-   **ファイル一覧:**
    -   `config.json`
        -   **内容:** 経費申請の承認ロールや表示ロールなどの設定。
        -   **関連コマンド:** `/keihi_config`
    -   `state.json`
        -   **内容:** 個々の経費申請の現在の状態（ID、申請者、金額、ステータスなど）をJSON配列で保存。CSV出力の元データとなる。
        -   **関連コマンド:** `/keihishinsei` (書き込み), `/keihi_rireki` (読み書き)
    -   `csv/` (ディレクトリ)
        -   **内容:** `/keihi_csv` コマンドでエクスポートされたCSVファイルが一時的に保存される場所。

---

## 売上報告ボット (`uriage_bot`)

-   **パス:** `data-svml/{guildId}/uriage/`

-   **ファイル一覧:**
    -   `config.json`
        -   **内容:** 売上報告の承認ロールなどの設定。
        -   **関連コマンド:** `/売上報告設定`
    -   `reports/{year}/{month}/{date}.json`
        -   **内容:** 日々の売上報告データを保存。
        -   **関連コマンド:** `売上報告`ボタン -> モーダル

---

## レベリングボット (`leveling_bot`)

-   **パス:** `data-svml/{guildId}/leveling/`

-   **ファイル一覧:**
    -   `config.json`
        -   **内容:** 経験値設定、クールダウン、レベルアップ通知チャンネルなどのサーバーごとのレベリング設定。
        -   **関連コマンド:** `レベル設定`ボタン (configコマンド内)
    -   `users.json`
        -   **内容:** ユーザーごとの現在の経験値(XP)とレベルを `{ "userId": { "xp": 123, "level": 4 } }` の形式で保存。
        -   **関連コマンド:** 全てのメッセージ投稿 (読み書き)